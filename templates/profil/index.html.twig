
{% extends 'base.html.twig' %}
{% block title %}
{{ user.firstname }}	
{{ user.lastname }}
• Generation Boomerang
{% endblock %}


{% block content %}
 


					<section class="profil-profil profil-section">
						<div class="profil-container">
							<ul class="profil-cards">
								<li class="profil-card">
									<div class="profil__card-content">	
										<div>
										{# SI PROPOSITION 2 SUPPRIMER LA LIGNE <H2> CLASSE PROFIL__CARD-TITLE #}
											{# <h2 class="profil__card-title">{{ user.bio|striptags('<div><body><br>')|u.truncate(200)|raw}}</h2> #}
											<div class="infos-container">
												<div class="profil-card-preview">
													{% if user.profil is same as 'partenaire' %}
														{% if user.metier is same as null %}
														{% else %}
														<p><strong>Domaine d'activité</strong> :
									{{user.metier}}</p>
								{% endif %}
								{% if user.ville is same as null %}
								{% else %}
								<p><strong>Localisation</strong> :
									{{ user.ville }}</p>
								{% endif %}
								{% if user.situation is same as null %}
								{% else %}
								<p><strong>Parcours</strong> :
								{{ user.situation|striptags('<div><body><br>')|u.truncate(200)|raw}}
								<a href="#partner__pop"><br><i class='bx bx-expand-alt bx-burst' ></i>voir plus...</a></p>
								
							</div>
								<div class="partner__pop partner__pop-partenaire" id="partner__pop">
									<div class="partner__pop-container">
										<a href="#partner" class="partner__pop-close">
											<i class='bx bx-x' ></i>
										</a>
										<div class="partner__pop-content">
											<h1 class="partner__pop-title">Notre Activité<br><br></h1>
											{{user.bio|striptags('<div><body><br>')|raw }}
											<h1 class="partner__pop-title">Notre Parcours<br><br></h1>
                        					{{user.situation|striptags('<div><body><br>')|raw }}
											<h1 class="partner__pop-title">Notre Lien<br><br></h1>
                        					{{user.instagram|striptags('<div><body><br>')|raw }}
											</div>
											</div>
								{% endif %}
								{% else %}
								{% if user.metier is same as null %}
								{% else %}
								<p><strong>Métier </strong> :
									{{user.metier}}</p>
								{% endif %}
								{% if user.situation is same as null %}
								{% else %}
								<p><strong>Situation </strong> :
									{{ user.situation }}</p>
								{% endif %}
								{% if user.ville is same as null %}
								{% else %}
								<p><strong>Ville</strong> :
									{{ user.ville }}</p>
								{% endif %}
								{% if user.caractere is same as null %}
								{% else %}
								<p><strong>Caractère </strong> :
									{{ user.caractere }}</p>
								{% endif %}
								{% if user.interet is same as null %}
								{% else %}
								<p><strong>Centre d'interet</strong> :
									{{ user.interet }}</p>
								{% endif %}
								{% endif %}
							</div>
					{# POUR LA PROPOSITION 2#}
					<figure class="profil-img">
						<img src="{{ asset('uploads/profiles/' ~ user.picture)}}" alt="{{ asset('uploads/partner/boomerang1.png')}}"/>
						<figcaption>{{ user.firstname }}
							<br>		
							{{ user.lastname }}
						</figcaption>
					</figure>								
							<div class="profil-card-preview2">
							{% if user.bio is same as null %}
								{% else %}
							<p><strong> Bio</strong>: 
								{{ user.bio|striptags('<div><body><br>')|u.truncate(200)|raw}}</p> 
							{% endif %}
								{% if user.objectif is same as null %}
								{% else %}
								<p><strong>Objectifs </strong> :
									{{ user.objectif }}</p>
								{% endif %}
								{% if user.insight is same as null %}
								{% else %}
								<p>Insight :
									{{ user.insight }}</p>
								{% endif %}
								
							
						</div>
						</div>
					</div>
					
					<div class="demo">
								<a href="#demo">Infos</a>
							</div>

							<div id="demo" class="modal">
								<div class="modal_content">
									<div id="preview" class="modal_preview">
										{% if user.profil is same as 'partenaire' %}
										{% if user.metier is same as null %}
										{% else %}
										<p>
											<strong>Domaine d'activité</strong>
											:
											{{user.metier}}</p>
										{% endif %}
										{% if user.ville is same as null %}
										{% else %}
										<p>
											<strong>Localisation</strong>
											:
											{{ user.ville }}</p>
										{% endif %}
										{% if user.situation is same as null %}
										{% else %}
										<p>
											<strong>Parcours</strong>
											:
											{{ user.situation|striptags('<div><body><br>')|u.truncate(200)|raw}}
											<a href="#partner__pop"><br><i class='bx bx-expand-alt bx-burst'></i>voir
												plus...</a>
										</p>

									</div>
									<div class="partner__pop partner__pop-partenaire" id="partner__pop">
										<div class="partner__pop-container">
											<a href="#partner" class="partner__pop-close">
												<i class='bx bx-x'></i>
											</a>
											<div class="partner__pop-content">
												<h1 class="partner__pop-title">Notre Activité<br><br></h1>
												{{user.bio|striptags('<div><body><br>')|raw }}
												<h1 class="partner__pop-title">Notre Parcours<br><br></h1>
												{{user.situation|striptags('<div><body><br>')|raw }}
												<h1 class="partner__pop-title">Notre Lien<br><br></h1>
												{{user.instagram|striptags('<div><body><br>')|raw }}
											</div>
										</div>
										{% endif %}
										{% else %}
										{% if user.metier is same as null %}
										{% else %}
										<p>
											<strong>Métier
											</strong>
											:
											{{user.metier}}</p>
										{% endif %}
										{% if user.situation is same as null %}
										{% else %}
										<p>
											<strong>Situation
											</strong>
											:
											{{ user.situation }}</p>
										{% endif %}
										{% if user.ville is same as null %}
										{% else %}
										<p>
											<strong>Ville</strong>
											:
											{{ user.ville }}</p>
										{% endif %}
										{% if user.caractere is same as null %}
										{% else %}
										<p>
											<strong>Caractère
											</strong>
											:
											{{ user.caractere }}</p>
										{% endif %}
										{% if user.interet is same as null %}
										{% else %}
										<p>
											<strong>Centre d'interet</strong>
											:
											{{ user.interet }}</p>
										{% endif %}
										{% endif %}
									</div>


									<div id="preview" class="modal_preview2">

										{% if user.bio is same as null %}
										{% else %}
										<p>
											<strong>
												Bio</strong>:
											{{ user.bio|striptags('<div><body><br>')|u.truncate(200)|raw}}</p>
										{% endif %}
										{% if user.objectif is same as null %}
										{% else %}
										<p>
											<strong>Objectifs
											</strong>
											:
											{{ user.objectif }}</p>
										{% endif %}
										{% if user.insight is same as null %}
										{% else %}
										<p>Insight :
											{{ user.insight }}</p>
										{% endif %}

									</div>


									<a href="#" class="modal_close">&times;</a>

								</div>

							</div>


						</div>
					</div>
					
					
					
					{# <figure class="profil-img">
						<img src="{{ asset('uploads/profiles/' ~ user.picture)}}" alt="{{ asset('uploads/partner/boomerang1.png')}}"/>
						<figcaption>{{ user.firstname }}
									
							{{ user.lastname }}
						</figcaption>
					</figure> #}
				</div>{% for message in app.flashes('message') %}
					<h3 class="section__subtitle-alert">{{ message }}</h3>
				{% endfor %}
			<div class="button__profil-option">
				{% if user.id != app.user.id %}
					{% if friend2 == false %}	
							<div class="friendbutton">	
								{{ form_start(form,{'attr':{'class':'article__form-button-friend'}}) }}
								{{ form_row(form.submit) }}
								{{ form_errors(form) }}
								{{ form_end(form) }}
							</div>
					{% else %}
					<div>
						<a  href="{{ path('app_chat_create', {'userId': user.id}) }}"><button type="button" class="article__form-button-friend">Envoyer un Message</button></a>
					</div>
					{% endif %}
				{% endif %}
				{% if user.id != app.user.id  %}
				{% if isblocked == false %}	
						<div>
							<button id="block_user" onclick="openModal2()">Bloquer cet utilisateur</button>
						</div>
				{% else %}
					<div>
						<button id="block_user" onclick="openModal2()">Debloquer cet utilisateur</button>
					</div>
				{% endif %}
				{% endif %}
				{% if is_granted("ROLE_ADMIN") %}
					<div>		
						<button id="ban_button" onclick="openModal()">Bannir ce compte</button>
					</div>
				{% endif %}	
				</div>
				</div>				
			</li>
		</ul>
	</div>
					<div class="article__modal-profil" id="modal">
                        <div class="article__modal-content">
                            <p>Voulez-vous vraiment bannir ce compte ?
							<div id ="button__choice">
								<a href="{{ path('admin_delete_user', {id: user.id}) }}"><button id="button__yes">Oui</button></a>
								<a href="{{ path('profil', {id: user.id}) }}"><button id="button__no">Non</button></a>
							</div>
                        </div>
                    </div>
					{% if user.id != app.user.id  %}
						{% if isblocked == false %}	
							<div class="article__modal-profil" id="modal_block">
								<div class="article__modal-content">
									<p>Voulez-vous vraiment bloquer cet utilisateur ?
									<div id ="button__choice">
									{{ form_start(formBlock) }}
									{{ form_row(formBlock.submit) }}
									{{ form_errors(formBlock) }}
									{{ form_end(formBlock) }}
										<a href="{{ path('profil', {id: user.id}) }}"><button id="button__no">Non</button></a>
									</div>
								</div>
							</div>
							{% else %}
							<div class="article__modal-profil" id="modal_block">
							<div class="article__modal-content">
								<p>Voulez-vous vraiment débloquer cet utilisateur ?
								<div id ="button__choice">
								{{ form_start(formBlock) }}
								{{ form_row(formBlock.submit) }}
								{{ form_errors(formBlock) }}
								{{ form_end(formBlock) }}
									<a href="{{ path('profil', {id: user.id}) }}"><button id="button__no">Non</button></a>
								</div>
							</div>
						</div>
						{% endif %}

					{% endif %}
					
</section>


<div class="profil__social">
 	<a href="{{ path('profilfriend', {id: user.id}) }}" class="profil__social-icon" target="_blank">
	 {% if user.id != app.user.id  %}
	 Ses {% else %} Mes {% endif %} contacts ( {{listFriends}} )</a>
	{% if user.facebook != null %}
	<a href="https://www.facebook.com/{{ user.facebook }}" class="profil__social-icon" target="_blank">
		<i class='bx bxl-facebook'></i>
	</a>
	{% endif %}
	{% if user.profil is same as 'partenaire' %}
	<a href="{{ user.instagram}}" class="profil__social-icon" target="_blank">
		<i class='bx bx-link' ></i>
	</a>
	{% else %}
	{% if user.instagram != null %}
	<a href="https://www.instagram.com/{{ user.instagram}}" class="profil__social-icon" target="_blank">
		<i class='bx bxl-instagram'></i>
	</a>
	{% endif %}
	{% endif %}
	{% if user.twitter != null %}
	<a href="https://twitter.com/{{ user.twitter }}" class="profil__social-icon" target="_blank">
		<i class='bx bxl-twitter'></i>
	</a>
	{% endif %}
	{% if user.linkedin != null %}
	<a href="https://www.linkedin.com/{{ user.linkedin }}" class="profil__social-icon" target="_blank">
		<i class='bx bxl-linkedin'></i>
	</a>
	{% endif %}
	{% if user.pinterest != null %}
	<a href="https://www.pinterest.fr/{{ user.pinterest }}" class="profil__social-icon" target="_blank">
		<i class='bx bxl-pinterest'></i>
	</a>
	{% endif %}
	{% if user.youtube != null %}
	<a href="https://www.youtube.com/channel/{{ user.youtube }}" class="profil__social-icon" target="_blank">
		<i class='bx bxl-youtube'></i>
	</a>
	{% endif %}
</div>
</div>

<div class="profil__content">
	<div class="profil__menu">
		<div id="article" class="profil__article">
			<a href="#Article">
				<h5 class="profil__menu-icon">
					<i class='bx bx-news'></i>
				</h5>
			</a>
		</div>
		<div id="experience" class="profil__experience">
			<a href="#Experience">
				<h5 class="profil__menu-icon">
					<i class='bx bx-comment-detail bx-flip-horizontal'></i>
				</h5>
			</a>
		</div>
		<div id="like" class="profil__like">
			<a href="#Like">
				<h5 class="profil__menu-icon">
					<i class='bx bx-heart'></i>
				</h5>
			</a>
		</div>
	</div>
</div>

<div id="Article" class="profil__content profil__container-content">
	<div class="article__container">
		{% if user.articles|length == null %}
		<h1 class="section__title">Les articles</h1>
		<h3 class="section__subtitle">{{ user.firstname }}
			n'a pas encore écrit d'article.</h3>
		{% else %}
		<h1 class="section__title">Les articles</h1>
		<h3 class="section__subtitle">Retrouvez tout les articles écrit par
			{{ user.firstname }}.</h3>
		<ul class="article__save-cards">
			{% for article in user.articles %}
			<li class="article__card">
				<div class="article__card-content">
					<div>
						<span class="article__card-category">
							<i class='bx bx-purchase-tag'></i>
							{{
							article.categories.name }}</span>
						<span class="article__card-author">écrit par
							<a href="{{ path('profil', {id: article.users.id}) }}">{{ article.users.firstname }}
								{{
								article.users.lastname }}</a>
						</span>
						<h2 class="article__card-title">
							<a href="{{ path('article', {slug: article.slug}) }}">{{
								article.title }}</a>
						</h2>
						<p class="article__card-preview">{{ article.content|striptags('<h1><h2><h3><h4><h5><h6><p><br>')|u.truncate(200, '...')|raw }}</p>
								<div class="article__card-button">
									<a href="{{ path('article', {slug: article.slug}) }}">Lire l'article</a>
								</div>
								<div class="article__card-reaction">
									<a href="{{ path('article_like', {id: article.id}) }}"
										class="article__reaction-button article__reaction-like">
										{% if app.user and article.isLikedByUser(app.user) %}
										<i class='bx bxs-heart'></i>
										{% else %}
										<i class='bx bx-heart bx-tada'></i>
										{% endif %}
										<span class="article__reaction-likeNumber">
										{% for user in article.likes | slice (0,3) %}
                                        {{user.user.firstname}} {{user.user.lastname}},
                                        
                                        {% endfor %}
                                        {% if article.likes | length == '0' %}
                                        Soyez le premier à aimer ceci </span>
                                        {% elseif article.likes | length == '1' %}
                                        {% elseif article.likes | length == '2' %}
                                        {% elseif article.likes | length == '3' %}
                                        {% elseif article.likes | length == '4' %}
                                        et une autre personne</span>
                                        {% else %}
                                        et {{ article.likes | length | slice (3) }} personnes</span>
                                        {% endif %}
										
									</a>
									<a href="{{ path('article', {slug: article.slug}) }}#comment__new"
										class="article__reaction-button">
										<i class='bx bx-comment-dots'></i>
										<span>{{ article.comments | length }}</span>
									</a>
									<a href="{{ path('article_save', {id: article.id}) }}"
										class="article__reaction-button article__reaction-save">
										{% if app.user and article.isSavedByUser(app.user) %}
										<i class='bx bxs-bookmark'></i>
										{% else %}
										<i class='bx bx-bookmark'></i>
										{% endif %}
										<span class="article__reaction-saveNumber">{{ article.saves | length }}</span>
									</a>
									<a href="" class="article__reaction-button">
										<i class='bx bx-share-alt'></i>
									</a>
								</div>
						</div>
						{% if article.illustrations is empty %}
						<figure>
							<img src="{{ asset('uploads/profiles/default.jpg') }}" alt="{{ article.title }}" />
						</figure>
						{% else %}
						<figure>
							<img src="{{ asset('uploads/articles/' ~ article.illustrations[0].name) }}"
								alt="{{ article.title }}" />
						</figure>
						{% endif %}
					</div>
			</li>
			{% endfor %}
		</ul>
		{% endif %}
	</div>
</div>
<div id="Experience" class="profil__content profil__container-content">
	<div class="article__container">
		{% if user.experiences|length == null %}
		<h1 class="section__title">Les retours d'expérience</h1>
		<h3 class="section__subtitle">{{ user.firstname }}
			n'a pas encore écrit de retour d'expérience.</h3>
		{% else %}
		<h1 class="section__title">Les retours d'expérience</h1>
		<h3 class="section__subtitle">Retrouvez tout les retours d'expérience écrit par
			{{ user.firstname }}.</h3>
		<ul class="article__save-cards">
			{% for experience in user.experiences %}
			<li class="article__card">
				<div class="article__card-content">
					<div>
						<span class="article__card-category">
							<i class='bx bx-purchase-tag'></i>
							{{
							experience.article.title }}</span>
						<span class="article__card-author">écrit par
							<a href="{{ path('profil', {id: experience.user.id}) }}">{{ experience.user.firstname }}
								{{
								experience.user.lastname }}</a>
						</span>
						<h2 class="article__card-title">
							<a href="{{ path('experience', {slug: experience.slug}) }}">{{
								experience.title }}</a>
						</h2>
						<p class="article__card-preview">{{ experience.content|striptags('<h1><h2><h3><h4><h5><h6><p><br>')|u.truncate(200, '...')|raw }}</p>
								<div class="article__card-button">
									<a href="{{ path('experience', {slug: experience.slug}) }}">Lire le retour
										<br>d'expérience</a>
								</div>
								<div class="article__card-reaction">
									<a href="{{ path('experience_like', {id: experience.id}) }}"
										class="article__reaction-button article__reaction-like">
										{% if app.user and experience.isLikedByUser(app.user) %}
										<i class='bx bxs-heart'></i>
										{% else %}
										<i class='bx bx-heart bx-tada'></i>
										{% endif %}
										<span class="article__reaction-likeNumber">
										{% for user in experience.likes | slice (0,3) %}
                                        {{user.user.firstname}} {{user.user.lastname}},
                                        
                                        {% endfor %}
                                        {% if experience.likes | length == '0' %}
                                        Soyez le premier à aimer ceci </span>
                                        {% elseif experience.likes | length == '1' %}
                                        {% elseif experience.likes | length == '2' %}
                                        {% elseif experience.likes | length == '3' %}
                                        {% elseif experience.likes | length == '4' %}
                                        et une autre personne</span>
                                        {% else %}
                                        et {{ experience.likes | length | slice (3) }} personnes</span>
                                        {% endif %}
									</a>
									<a href="{{ path('experience', {slug: experience.slug}) }}#comment__new"
										class="article__reaction-button">
										<i class='bx bx-comment-dots'></i>
										<span>{{ experience.comments | length }}</span>
									</a>
									<a href="{{ path('experience_save', {id: experience.id}) }}"
										class="article__reaction-button article__reaction-save">
										{% if app.user and experience.isSavedByUser(app.user) %}
										<i class='bx bxs-bookmark'></i>
										{% else %}
										<i class='bx bx-bookmark'></i>
										{% endif %}
										<span class="article__reaction-saveNumber">{{ experience.saves | length
											}}</span>
									</a>
									<a href="" class="article__reaction-button">
										<i class='bx bx-share-alt'></i>
									</a>
								</div>
						</div>
						<figure>
							<img src="{{ asset('uploads/experiences/' ~ experience.illustrations[0].name) }}"
								alt="{{ experience.title }}" />
						</figure>
					</div>
			</li>
			{% endfor %}
		</ul>
		{% endif %}
	</div>
</div>
<div id="Like" class="profil__content profil__container-content">
	<div class="article__container">
		<h1 class="section__title-icon">
			<i class='bx bx-happy-heart-eyes'></i>
		</h1>
		<h3 class="section__subtitle">Retrouvez tout les articles et retours d'expérience aimés par
			{{ user.firstname
			}}.</h3>
		<ul class="article__save-cards">
			{% for article in user.likes %}

			<li class="article__card">
				<div class="article__card-content">
					<div>
						<span class="article__card-category">
							<i class='bx bx-purchase-tag'></i>
							{{
							article.article.categories.name }}</span>
						<span class="article__card-author">écrit par
							<a href="{{ path('profil', {id: article.article.users.id}) }}">{{
								article.article.users.firstname }}
								{{ article.article.users.lastname }}</a>
						</span>
						<h2 class="article__card-title">
							<a href="{{ path('article', {slug: article.article.slug}) }}">{{
								article.article.title }}</a>
						</h2>
						<p class="article__card-preview">{{ article.article.content|striptags('<h1><h2><h3><h4><h5><h6><p>')|u.truncate(200, '...')|raw }}</p>
								<div class="article__card-button">
									<a href="{{ path('article', {slug: article.article.slug}) }}">Lire l'article</a>
								</div>
								<div class="article__card-reaction">
									<a href="{{ path('article_like', {id: article.article.id}) }}"
										class="article__reaction-button article__reaction-like">
										{% if app.user and article.article.isLikedByUser(app.user) %}
										<i class='bx bxs-heart'></i>
										{% else %}
										<i class='bx bx-heart bx-tada'></i>
										{% endif %}
										<span class="article__reaction-likeNumber">
										{% for user in article.article.likes | slice (0,3) %}
                                        {{user.user.firstname}} {{user.user.lastname}},
                                        
                                        {% endfor %}
                                        {% if article.article.likes | length == '0' %}
                                        Soyez le premier à aimer ceci </span>
                                        {% elseif article.article.likes | length == '1' %}
                                        {% elseif article.article.likes | length == '2' %}
                                        {% elseif article.article.likes | length == '3' %}
                                        {% elseif article.article.likes | length == '4' %}
                                        et une autre personne</span>
                                        {% else %}
                                        et {{ article.article.likes | length | slice (0, 3) }} personnes</span>
                                        {% endif %}
									</a>
									<a href="{{ path('article', {slug: article.article.slug}) }}#comment__new"
										class="article__reaction-button">
										<i class='bx bx-comment-dots'></i>
										<span>{{ article.article.comments | length }}</span>
									</a>
									<a href="{{ path('article_save', {id: article.article.id}) }}"
										class="article__reaction-button article__reaction-save">
										{% if app.user and article.article.isSavedByUser(app.user) %}
										<i class='bx bxs-bookmark'></i>
										{% else %}
										<i class='bx bx-bookmark'></i>
										{% endif %}
										<span class="article__reaction-saveNumber">{{ article.article.saves | length
											}}</span>
									</a>
									<a href="" class="article__reaction-button">
										<i class='bx bx-share-alt'></i>
									</a>
								</div>
						</div>
						<figure>
							<img src="{{ asset('uploads/articles/' ~ article.article.illustrations[0].name) }}"
								alt="{{ article.article.title }}" />
						</figure>
					</div>
			</li>

			{% endfor %}
			{% for experience in user.expLikes%}
			<li class="article__card">
				<div class="article__card-content">
					<div>
						<span class="article__card-category">
							<i class='bx bx-purchase-tag'></i>
							{{
							experience.experience.article.title }}</span>
						<span class="article__card-author">écrit par
							<a href="{{ path('profil', {id: experience.experience.user.id}) }}">{{
								experience.experience.user.firstname }}
								{{ experience.experience.user.lastname
								}}</a>
						</span>
						<h2 class="article__card-title">
							<a href="{{ path('experience', {slug: experience.experience.slug}) }}">{{
								experience.experience.title }}</a>
						</h2>
						<p class="article__card-preview">{{ experience.experience.content|striptags('<h1><h2><h3><h4><h5><h6><p>')|u.truncate(200, '...')|raw }}
								</p>
								<div class="article__card-button">
									<a href="{{ path('experience', {slug: experience.experience.slug}) }}">Lire le
										retour
										<br>d'expérience</a>
								</div>
								<div class="article__card-reaction">
									<a href="{{ path('experience_like', {id: experience.experience.id}) }}"
										class="article__reaction-button article__reaction-like">
										{% if app.user and experience.experience.isLikedByUser(app.user) %}
										<i class='bx bxs-heart'></i>
										{% else %}
										<i class='bx bx-heart bx-tada'></i>
										{% endif %}
										<span class="article__reaction-likeNumber">
										{% for user in experience.experience.likes | slice (0,3) %}
                                        {{user.user.firstname}} {{user.user.lastname}},
                                        
                                        {% endfor %}
                                        {% if experience.experience.likes | length == '0' %}
                                        Soyez le premier à aimer ceci </span>
                                        {% elseif experience.experience.likes | length == '1' %}
                                        {% elseif experience.experience.likes | length == '2' %}
                                        {% elseif experience.experience.likes | length == '3' %}
                                        {% elseif experience.experience.likes | length == '4' %}
                                        et une autre personne</span>
                                        {% else %}
                                        et {{ experience.experience.likes | length | slice (0, 3) }} personnes</span>
                                        {% endif %}
									</a>
									<a href="{{ path('experience', {slug: experience.experience.slug}) }}#comment__new"
										class="article__reaction-button">
										<i class='bx bx-comment-dots'></i>
										<span>{{ experience.experience.comments | length }}</span>
									</a>
									<a href="{{ path('experience_save', {id: experience.experience.id}) }}"
										class="article__reaction-button article__reaction-save">
										{% if app.user and experience.experience.isSavedByUser(app.user) %}
										<i class='bx bxs-bookmark'></i>
										{% else %}
										<i class='bx bx-bookmark'></i>
										{% endif %}
										<span class="article__reaction-saveNumber">{{ experience.experience.saves |
											length
											}}</span>
									</a>
									<a href="" class="article__reaction-button">
										<i class='bx bx-share-alt'></i>
									</a>
								</div>
						</div>
						<figure>
							<img src="{{ asset('uploads/experiences/' ~ experience.experience.illustrations[0].name) }}"
								alt="{{ experience.experience.title }}" />
						</figure>
					</div>
			</li>
			{% endfor %}
		</ul>
	</div>
</div>

</section>

{% endblock %}

{% block JavaScript %}
<script src="https://unpkg.com/scrollreveal"></script>
<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
<script>


	function openTab(tabName) {
		let i;
		let tabContent;

		tabContent = document.getElementsByClassName("profil__container-content");

		for (i = 0; i < tabContent.length; i++) {
			tabContent[i].style.display = "none";
		}

		document.getElementById(tabName).style.display = "flex";
	}

	let articleEl = document.getElementById("article");
	let experienceEl = document.getElementById("experience");
	let likeEl = document.getElementById("like");

	articleEl.addEventListener("click", function () {
		openTab("Article")
	}, false);
	experienceEl.addEventListener("click", function () {
		openTab("Experience")
	}, false);
	likeEl.addEventListener("click", function () {
		openTab("Like")
	}, false);
function openModal() {
            document.getElementById("modal").style.display = "block";
        }
function openModal2() {
            document.getElementById("modal_block").style.display = "block";
        }
	function onClickBtnLike(event) {
		event.preventDefault();

		const url = this.href;
		const likeCount = this.querySelector('span.article__reaction-likeNumber');
		const icon = this.querySelector('i');

		axios.get(url).then(function (response) {
			likeCount.textContent = response.data.likes;

			if (icon.classList.contains('bxs-heart')) {
				icon.classList.replace('bxs-heart', 'bx-heart');
			} else {
				icon.classList.replace('bx-heart', 'bxs-heart');
			}
		}).catch(function (error) {
			if (error.response.status === 403) {
				window.alert("Vous ne pouvez pas aimer un article si vous n'êtes pas connecté.");
			} else {
				window.alert("Une erreur s'est produite, réessayer ultérieurement.");
			}
		});
	}
	document.querySelectorAll('a.article__reaction-like').forEach(function (link) {
		link.addEventListener('click', onClickBtnLike)
	});

	function onClickBtnSave(event) {
		event.preventDefault();

		const url = this.href;
		const saveCount = this.querySelector('span.article__reaction-saveNumber');
		const icon = this.querySelector('i');

		axios.get(url).then(function (response) {
			saveCount.textContent = response.data.saves;

			if (icon.classList.contains('bxs-bookmark')) {
				icon.classList.replace('bxs-bookmark', 'bx-bookmark');
			} else {
				icon.classList.replace('bx-bookmark', 'bxs-bookmark');
			}
		}).catch(function (error) {
			if (error.response.status === 403) {
				window.alert("Vous ne pouvez pas sauvegarder un article si vous n'êtes pas connecté.");
			} else {
				window.alert("Une erreur s'est produite, réessayer ultérieurement.");
			}
		});
	}
	document.querySelectorAll('a.article__reaction-save').forEach(function (link) {
		link.addEventListener('click', onClickBtnSave)
	});</script>{% endblock %}